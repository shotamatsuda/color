!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.Color={})}(this,function(t){"use strict";function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=Symbol(t);return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return void 0===t[n]&&(t[n]=e({})),t[n]}}function e(t){this.message=t}function r(t,n){return n={exports:{}},t(n,n.exports),n.exports}function i(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function o(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&i(t.slice(0,0))}function u(t){this.message=t}function a(t){return decodeURIComponent(t.replace(/\+/g," "))}function s(t){var n,e={},r=void 0===(t=t||I.location||{})?"undefined":j(t);if("blob:"===t.protocol)e=new h(unescape(t.pathname),{});else if("string"===r){e=new h(t,{});for(n in ht)delete e[n]}else if("object"===r){for(n in t)n in ht||(e[n]=t[n]);void 0===e.slashes&&(e.slashes=ct.test(t.href))}return e}function c(t){var n=st.exec(t);return{protocol:n[1]?n[1].toLowerCase():"",slashes:!!n[2],rest:n[3]}}function f(t,n){for(var e=(n||"/").split("/").slice(0,-1).concat(t.split("/")),r=e.length,i=e[r-1],o=!1,u=0;r--;)"."===e[r]?e.splice(r,1):".."===e[r]?(e.splice(r,1),u++):u&&(0===r&&(o=!0),e.splice(r,1),u--);return o&&e.unshift(""),"."!==i&&".."!==i||e.push(""),e.join("/")}function h(t,n,e){if(!(this instanceof h))return new h(t,n,e);var r,i,o,u,a,l,y=ft.slice(),v=void 0===n?"undefined":j(n),p=this,g=0;for("object"!==v&&"string"!==v&&(e=n,n=null),e&&"function"!=typeof e&&(e=at.parse),n=s(n),r=!(i=c(t||"")).protocol&&!i.slashes,p.slashes=i.slashes||r&&n.slashes,p.protocol=i.protocol||n.protocol||"",t=i.rest,i.slashes||(y[2]=[/(.*)/,"pathname"]);g<y.length;g++)o=(u=y[g])[0],l=u[1],o!==o?p[l]=t:"string"==typeof o?~(a=t.indexOf(o))&&("number"==typeof u[2]?(p[l]=t.slice(0,a),t=t.slice(a+u[2])):(p[l]=t.slice(a),t=t.slice(0,a))):(a=o.exec(t))&&(p[l]=a[1],t=t.slice(0,a.index)),p[l]=p[l]||(r&&u[3]?n[l]||"":""),u[4]&&(p[l]=p[l].toLowerCase());e&&(p.query=e(p.query)),r&&n.slashes&&"/"!==p.pathname.charAt(0)&&(""!==p.pathname||""!==n.pathname)&&(p.pathname=f(p.pathname,n.pathname)),ot(p.port,p.protocol)||(p.host=p.hostname,p.port=""),p.username=p.password="",p.auth&&(u=p.auth.split(":"),p.username=u[0]||"",p.password=u[1]||""),p.origin=p.protocol&&p.host&&"file:"!==p.protocol?p.protocol+"//"+p.host:"null",p.href=p.toString()}function l(t,n){return new Promise(function(e,r){var i=new yt(t,!0);n.query&&i.set("query",Object.assign({},i.query,n.query));var o=new XMLHttpRequest;o.open("get",i.toString(),!0),n.headers&&Object.entries(n.headers).forEach(function(t){o.setRequestHeader.apply(o,q(t))}),o.responseType=n.type,o.addEventListener("loadend",function(t){o.status<200||o.status>=300?r(o.status):null!==o.response||"json"!==n.type?e(o.response):r(new Error("Could not parse JSON"))},!1),o.send()})}function y(t,n){return n.local?new Promise(function(e,r){vt(t,n.encoding,function(t,n){t?r(t):e(n)})}):new Promise(function(e,r){pt({url:t,headers:n.headers||{},qs:n.query||{},encoding:n.encoding},function(t,n){t?r(t):((n.statusCode<200||n.statusCode>=300)&&r(n.statusCode),e(n.body))})})}function v(t,n){if("node"===z.type){var e=y(t,n);return"json"===n.type?e.then(function(t){if("string"!=typeof t)throw new Error("Response is unexpectedly not a string");return JSON.parse(t)}):"arraybuffer"===n.type?e.then(function(t){if(!(t instanceof Buffer))throw new Error("Response is unexpectedly not a buffer");for(var n=new ArrayBuffer(t.length),e=new Uint8Array(n),r=0;r<t.length;++r)e[r]=t[r];return n}):e}return l(t,n)}function p(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];var r=n[0],i=n[1];if("string"!=typeof r&&(r=(i=r).url),"string"!=typeof r)throw new Error("The first argument or options.url must be a string");return i=Object.assign({},{type:"text",local:!1,encoding:"utf-8"},i),[r,i]}function g(t){var n=G(t,3),e=n[0],r=n[1],i=n[2],o=Math.max(e,r,i),u=Math.min(e,r,i),a=void 0,s=void 0,c=(o+u)/2;if(o===u)a=0,s=0;else{var f=o-u;s=c>.5?f/(2-o-u):f/(o+u),a=o===e?((r-i)/f+(r<i?6:0))/6:o===r?((i-e)/f+2)/6:((e-r)/f+4)/6}return[a,s,c]}function d(t){var n=G(t,3),e=n[0],r=n[1],i=n[2],o=void 0,u=void 0,a=void 0;if(0===r)o=i,u=i,a=i;else{var s=i<.5?i*(1+r):i+r-i*r,c=2*i-s,f=function(t){var n=t;return n<0&&(n+=1),n>1&&(n-=1),n<1/6?c+6*(s-c)*n:n<.5?s:n<2/3?c+(s-c)*(2/3-n)*6:c};o=f(e+1/3),u=f(e),a=f(e-1/3)}return[o,u,a]}function w(t){var n=G(t,3),e=n[0],r=n[1],i=n[2],o=Math.max(e,r,i),u=Math.min(e,r,i),a=o-u,s=0===o?0:a/o,c=o,f=void 0;return f=o===u?0:o===e?((r-i)/a+(r<i?6:0))/6:o===r?((i-e)/a+2)/6:((e-r)/a+4)/6,[f,s,c]}function m(t){var n=G(t,3),e=n[0],r=n[1],i=n[2],o=Math.floor(6*e),u=6*e-o,a=i*(1-r),s=i*(1-u*r),c=i*(1-(1-u)*r);switch(o%6){case 0:return[i,c,a];case 1:return[s,i,a];case 2:return[a,i,c];case 3:return[a,s,i];case 4:return[c,a,i];case 5:return[i,a,s]}return[0,0,0]}function b(t){var n=Ht(t);if(void 0!==n.RGBToXYZMatrix)return n.RGBToXYZMatrix;var e=new Ct(t.r).toArray(),r=G(e,3),i=r[0],o=r[1],u=r[2],a=new Ct(t.g).toArray(),s=G(a,3),c=s[0],f=s[1],h=s[2],l=new Ct(t.b).toArray(),y=G(l,3),v=y[0],p=y[1],g=y[2],d=new Ct(t.w).toArray(),w=G(d,3),m=w[0],b=w[1],k=w[2],x=Tt.invert([i,c,v,o,f,p,u,h,g]),A=x[0]*m+x[1]*b+x[2]*k,B=x[3]*m+x[4]*b+x[5]*k,S=x[6]*m+x[7]*b+x[8]*k,M=_t.Bradford.transformation(t.w,Zt.D50);return n.RGBToXYZMatrix=Tt.multiply(M,[A*i,B*c,S*v,A*o,B*f,S*p,A*u,B*h,S*g]),n.RGBToXYZMatrix}function k(t){var n=Ht(t);return void 0!==n.XYZToRGBMatrix?n.XYZToRGBMatrix:(n.XYZToRGBMatrix=Tt.invert(b(t)),n.XYZToRGBMatrix)}function x(t){return t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t}function A(t){return t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92}function B(t){return t>216/24389?Math.pow(t,1/3):841/108*t+4/29}function S(t){return t>6/29?Math.pow(t,3):108/841*(t-4/29)}function M(t){var n=G(t,3),e=n[0],r=n[1],i=n[2],o=Math.min(e,r,i);e-=o,r-=o,i-=o;var u=Math.max(e,r,i),a=Math.min(e,r);e-=a,r-=a,0!==i&&0!==r&&(i/=2,r/=2),a+=r,i+=r;var s=Math.max(e,a,i);if(0!==s){var c=u/s;e*=c,a*=c,i*=c}return e+=o,a+=o,i+=o,[e,a,i]}function R(t){var n=G(t,3),e=n[0],r=n[1],i=n[2],o=Math.min(e,r,i);e-=o,r-=o,i-=o;var u=Math.max(e,r,i),a=Math.min(r,i);r-=a,0!==(i-=a)&&0!==a&&(i*=2,a*=2),e+=r,a+=r;var s=Math.max(e,a,i);if(0!==s){var c=u/s;e*=c,a*=c,i*=c}return e+=o,a+=o,i+=o,[e,a,i]}var j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},T=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),O=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)},C=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n},G=function(){function t(t,n){var e=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),q=function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)},F=n("AggregateFunction"),P=function(){function t(n){if(E(this,t),n!==F)throw new Error;for(var e=F(this),r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];e.targets=i}return T(t,[{key:"apply",value:function(t,n,e){return F(this).targets.map(function(t){return Reflect.apply(t,n,e)})}},{key:"getPrototypeOf",value:function(t){return this.constructor.prototype}}],[{key:"new",value:function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];var r=new(Function.prototype.bind.apply(this,[null].concat([F],n)));return new Proxy(function(){},r)}}]),t}(),_=n("Aggregate");!function(){function t(n){if(E(this,t),n!==_)throw new Error;for(var e=_(this),r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];e.targets=i}T(t,[{key:"set",value:function(t,n,e,r){return _(this).targets.forEach(function(t){Reflect.set(t,n,e)}),Reflect.set(t,n,e,r)}},{key:"get",value:function(t,n,e){var r=_(this);return r.targets.every(function(t){return"function"==typeof Reflect.get(t,n)})?P.new.apply(P,q(r.targets.map(function(t){return Reflect.get(t,n).bind(t)}))):Reflect.get(r.targets[0],n,e)}},{key:"getPrototypeOf",value:function(t){return this.constructor.prototype}}],[{key:"new",value:function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];var r=new(Function.prototype.bind.apply(this,[null].concat([_],n)));return new Proxy({},r)}}])}();Object.setPrototypeOf(e,Error),(e.prototype=Object.create(Error.prototype)).name="AssertionError",e.prototype.message="",e.prototype.constructor=e;var z=function(){function t(){E(this,t)}return T(t,null,[{key:"type",get:function(){try{if(new Function("return this === window")())return"browser"}catch(t){}try{if(new Function("return this === self")())return"worker"}catch(t){}try{if(new Function("return this === global")())return"node"}catch(t){}throw new Error}},{key:"self",get:function(){switch(this.type){case"browser":return window;case"worker":return self;case"node":return global}throw new Error}}]),t}(),D=n("FilePath"),Z=function(){function t(){E(this,t)}return T(t,null,[{key:"self",get:function(){return D(this).self}},{key:"current",get:function(){switch(z.type){case"browser":return window.location.href;case"worker":return self.location.href;case"node":return process.cwd()}throw new Error}}]),t}();D(Z).self=Z.current;var L,X,Y,I="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},U=r(function(t){!function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(t,n){return t<<n|t>>>32-n},rotr:function(t,n){return t<<32-n|t>>>n},endian:function(t){if(t.constructor==Number)return 16711935&e.rotl(t,8)|4278255360&e.rotl(t,24);for(var n=0;n<t.length;n++)t[n]=e.endian(t[n]);return t},randomBytes:function(t){for(var n=[];t>0;t--)n.push(Math.floor(256*Math.random()));return n},bytesToWords:function(t){for(var n=[],e=0,r=0;e<t.length;e++,r+=8)n[r>>>5]|=t[e]<<24-r%32;return n},wordsToBytes:function(t){for(var n=[],e=0;e<32*t.length;e+=8)n.push(t[e>>>5]>>>24-e%32&255);return n},bytesToHex:function(t){for(var n=[],e=0;e<t.length;e++)n.push((t[e]>>>4).toString(16)),n.push((15&t[e]).toString(16));return n.join("")},hexToBytes:function(t){for(var n=[],e=0;e<t.length;e+=2)n.push(parseInt(t.substr(e,2),16));return n},bytesToBase64:function(t){for(var e=[],r=0;r<t.length;r+=3)for(var i=t[r]<<16|t[r+1]<<8|t[r+2],o=0;o<4;o++)8*r+6*o<=8*t.length?e.push(n.charAt(i>>>6*(3-o)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],r=0,i=0;r<t.length;i=++r%4)0!=i&&e.push((n.indexOf(t.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|n.indexOf(t.charAt(r))>>>6-2*i);return e}};t.exports=e}()}),N={utf8:{stringToBytes:function(t){return N.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(N.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var n=[],e=0;e<t.length;e++)n.push(255&t.charCodeAt(e));return n},bytesToString:function(t){for(var n=[],e=0;e<t.length;e++)n.push(String.fromCharCode(t[e]));return n.join("")}}},H=N,J=function(t){return null!=t&&(i(t)||o(t)||!!t._isBuffer)},V=(r(function(t){!function(){var n=U,e=H.utf8,r=J,i=H.bin,o=function t(o,u){o.constructor==String?o=u&&"binary"===u.encoding?i.stringToBytes(o):e.stringToBytes(o):r(o)?o=Array.prototype.slice.call(o,0):Array.isArray(o)||(o=o.toString());for(var a=n.bytesToWords(o),s=8*o.length,c=1732584193,f=-271733879,h=-1732584194,l=271733878,y=0;y<a.length;y++)a[y]=16711935&(a[y]<<8|a[y]>>>24)|4278255360&(a[y]<<24|a[y]>>>8);a[s>>>5]|=128<<s%32,a[14+(s+64>>>9<<4)]=s;for(var v=t._ff,p=t._gg,g=t._hh,d=t._ii,y=0;y<a.length;y+=16){var w=c,m=f,b=h,k=l;f=d(f=d(f=d(f=d(f=g(f=g(f=g(f=g(f=p(f=p(f=p(f=p(f=v(f=v(f=v(f=v(f,h=v(h,l=v(l,c=v(c,f,h,l,a[y+0],7,-680876936),f,h,a[y+1],12,-389564586),c,f,a[y+2],17,606105819),l,c,a[y+3],22,-1044525330),h=v(h,l=v(l,c=v(c,f,h,l,a[y+4],7,-176418897),f,h,a[y+5],12,1200080426),c,f,a[y+6],17,-1473231341),l,c,a[y+7],22,-45705983),h=v(h,l=v(l,c=v(c,f,h,l,a[y+8],7,1770035416),f,h,a[y+9],12,-1958414417),c,f,a[y+10],17,-42063),l,c,a[y+11],22,-1990404162),h=v(h,l=v(l,c=v(c,f,h,l,a[y+12],7,1804603682),f,h,a[y+13],12,-40341101),c,f,a[y+14],17,-1502002290),l,c,a[y+15],22,1236535329),h=p(h,l=p(l,c=p(c,f,h,l,a[y+1],5,-165796510),f,h,a[y+6],9,-1069501632),c,f,a[y+11],14,643717713),l,c,a[y+0],20,-373897302),h=p(h,l=p(l,c=p(c,f,h,l,a[y+5],5,-701558691),f,h,a[y+10],9,38016083),c,f,a[y+15],14,-660478335),l,c,a[y+4],20,-405537848),h=p(h,l=p(l,c=p(c,f,h,l,a[y+9],5,568446438),f,h,a[y+14],9,-1019803690),c,f,a[y+3],14,-187363961),l,c,a[y+8],20,1163531501),h=p(h,l=p(l,c=p(c,f,h,l,a[y+13],5,-1444681467),f,h,a[y+2],9,-51403784),c,f,a[y+7],14,1735328473),l,c,a[y+12],20,-1926607734),h=g(h,l=g(l,c=g(c,f,h,l,a[y+5],4,-378558),f,h,a[y+8],11,-2022574463),c,f,a[y+11],16,1839030562),l,c,a[y+14],23,-35309556),h=g(h,l=g(l,c=g(c,f,h,l,a[y+1],4,-1530992060),f,h,a[y+4],11,1272893353),c,f,a[y+7],16,-155497632),l,c,a[y+10],23,-1094730640),h=g(h,l=g(l,c=g(c,f,h,l,a[y+13],4,681279174),f,h,a[y+0],11,-358537222),c,f,a[y+3],16,-722521979),l,c,a[y+6],23,76029189),h=g(h,l=g(l,c=g(c,f,h,l,a[y+9],4,-640364487),f,h,a[y+12],11,-421815835),c,f,a[y+15],16,530742520),l,c,a[y+2],23,-995338651),h=d(h,l=d(l,c=d(c,f,h,l,a[y+0],6,-198630844),f,h,a[y+7],10,1126891415),c,f,a[y+14],15,-1416354905),l,c,a[y+5],21,-57434055),h=d(h,l=d(l,c=d(c,f,h,l,a[y+12],6,1700485571),f,h,a[y+3],10,-1894986606),c,f,a[y+10],15,-1051523),l,c,a[y+1],21,-2054922799),h=d(h,l=d(l,c=d(c,f,h,l,a[y+8],6,1873313359),f,h,a[y+15],10,-30611744),c,f,a[y+6],15,-1560198380),l,c,a[y+13],21,1309151649),h=d(h,l=d(l,c=d(c,f,h,l,a[y+4],6,-145523070),f,h,a[y+11],10,-1120210379),c,f,a[y+2],15,718787259),l,c,a[y+9],21,-343485551),c=c+w>>>0,f=f+m>>>0,h=h+b>>>0,l=l+k>>>0}return n.endian([c,f,h,l])};o._ff=function(t,n,e,r,i,o,u){var a=t+(n&e|~n&r)+(i>>>0)+u;return(a<<o|a>>>32-o)+n},o._gg=function(t,n,e,r,i,o,u){var a=t+(n&r|e&~r)+(i>>>0)+u;return(a<<o|a>>>32-o)+n},o._hh=function(t,n,e,r,i,o,u){var a=t+(n^e^r)+(i>>>0)+u;return(a<<o|a>>>32-o)+n},o._ii=function(t,n,e,r,i,o,u){var a=t+(e^(n|~r))+(i>>>0)+u;return(a<<o|a>>>32-o)+n},o._blocksize=16,o._digestsize=16,t.exports=function(t,e){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var r=n.wordsToBytes(o(t,e));return e&&e.asBytes?r:e&&e.asString?i.bytesToString(r):n.bytesToHex(r)}}()}),{'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"}),K=function(t){throw{name:"SyntaxError",message:t,at:L,text:void 0}},W=function(t){return t&&t!==X&&K("Expected '"+t+"' instead of '"+X+"'"),X=(void 0).charAt(L),L+=1,X},Q=function(){var t,n="";for("-"===X&&(n="-",W("-"));X>="0"&&X<="9";)n+=X,W();if("."===X)for(n+=".";W()&&X>="0"&&X<="9";)n+=X;if("e"===X||"E"===X)for(n+=X,W(),"-"!==X&&"+"!==X||(n+=X,W());X>="0"&&X<="9";)n+=X,W();if(t=+n,isFinite(t))return t;K("Bad number")},$=function(){var t,n,e,r="";if('"'===X)for(;W();){if('"'===X)return W(),r;if("\\"===X)if(W(),"u"===X){for(e=0,n=0;n<4&&(t=parseInt(W(),16),isFinite(t));n+=1)e=16*e+t;r+=String.fromCharCode(e)}else{if("string"!=typeof V[X])break;r+=V[X]}else r+=X}K("Bad string")},tt=function(){for(;X&&X<=" ";)W()},nt=function(){switch(X){case"t":return W("t"),W("r"),W("u"),W("e"),!0;case"f":return W("f"),W("a"),W("l"),W("s"),W("e"),!1;case"n":return W("n"),W("u"),W("l"),W("l"),null}K("Unexpected '"+X+"'")},et=function(){var t=[];if("["===X){if(W("["),tt(),"]"===X)return W("]"),t;for(;X;){if(t.push(Y()),tt(),"]"===X)return W("]"),t;W(","),tt()}}K("Bad array")},rt=function(){var t,n={};if("{"===X){if(W("{"),tt(),"}"===X)return W("}"),n;for(;X;){if(t=$(),tt(),W(":"),Object.hasOwnProperty.call(n,t)&&K('Duplicate key "'+t+'"'),n[t]=Y(),tt(),"}"===X)return W("}"),n;W(","),tt()}}K("Bad object")};Y=function(){switch(tt(),X){case"{":return rt();case"[":return et();case'"':return $();case"-":return Q();default:return X>="0"&&X<="9"?Q():nt()}},Object.setPrototypeOf(u,Error),(u.prototype=Object.create(Error.prototype)).name="ImplementationError",u.prototype.message="",u.prototype.constructor=u;var it=n("Multiton"),ot=(function(){function t(n){if(E(this,t),this.constructor.has(n))throw new Error('Attempt to create multiple instances for key "'+n+'"')}T(t,null,[{key:"has",value:function(t){var n=it(this);if(void 0===n.instances)return!1;var e=this.coerceMultitonKey(t);return void 0!==n.instances[e]}},{key:"for",value:function(t){var n=it(this);n.instances||(n.instances=new Map);var e=this.coerceMultitonKey(t);if(n.instances.has(e))return n.instances.get(e);for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var u=new(Function.prototype.bind.apply(this,[null].concat([e],i)));return n.instances.set(e,u),u}},{key:"coerceMultitonKey",value:function(t){return t}}])}(),function(t,n){if(n=n.split(":")[0],!(t=+t))return!1;switch(n){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}),ut=Object.prototype.hasOwnProperty,at={stringify:function(t,n){var e=[];"string"!=typeof(n=n||"")&&(n="?");for(var r in t)ut.call(t,r)&&e.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e.length?n+e.join("&"):""},parse:function(t){for(var n,e=/([^=?&]+)=?([^&]*)/g,r={};n=e.exec(t);r[a(n[1])]=a(n[2]));return r}},st=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,ct=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,ft=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ht={hash:1,query:1};h.prototype={set:function(t,n,e){var r=this;switch(t){case"query":"string"==typeof n&&n.length&&(n=(e||at.parse)(n)),r[t]=n;break;case"port":r[t]=n,ot(n,r.protocol)?n&&(r.host=r.hostname+":"+n):(r.host=r.hostname,r[t]="");break;case"hostname":r[t]=n,r.port&&(n+=":"+r.port),r.host=n;break;case"host":r[t]=n,/:\d+$/.test(n)?(n=n.split(":"),r.port=n.pop(),r.hostname=n.join(":")):(r.hostname=n,r.port="");break;case"protocol":r.protocol=n.toLowerCase(),r.slashes=!e;break;case"pathname":r.pathname=n.length&&"/"!==n.charAt(0)?"/"+n:n;break;default:r[t]=n}for(var i=0;i<ft.length;i++){var o=ft[i];o[4]&&(r[o[1]]=r[o[1]].toLowerCase())}return r.origin=r.protocol&&r.host&&"file:"!==r.protocol?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(t){t&&"function"==typeof t||(t=at.stringify);var n,e=this,r=e.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var i=r+(e.slashes?"//":"");return e.username&&(i+=e.username,e.password&&(i+=":"+e.password),i+="@"),i+=e.host+e.pathname,(n="object"===j(e.query)?t(e.query):e.query)&&(i+="?"!==n.charAt(0)?"?"+n:n),e.hash&&(i+=e.hash),i}},h.extractProtocol=c,h.location=s,h.qs=at;var lt=h,yt=function(t){function n(){return E(this,n),C(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return O(n,lt),n}(),vt=void 0,pt=void 0;if("node"===z.type){var gt=require("fs");vt=gt.readFile,pt=require("request")}!function(){function t(){E(this,t)}T(t,null,[{key:"text",value:function(){var t=p.apply(void 0,arguments),n=G(t,2),e=n[0],r=n[1];return r.type="text",v(e,r)}},{key:"json",value:function(){var t=p.apply(void 0,arguments),n=G(t,2),e=n[0],r=n[1];return r.type="json",v(e,r)}},{key:"buffer",value:function(){var t=p.apply(void 0,arguments),n=G(t,2),e=n[0],r=n[1];return r.type="arraybuffer",r.encoding=null,v(e,r)}},{key:"csv",value:function(){var t=p.apply(void 0,arguments),n=G(t,2),e=n[0],r=n[1];return this.text(e,r).then(function(t){return z.self.d3.csvParse(t,r.row)})}},{key:"tsv",value:function(){var t=p.apply(void 0,arguments),n=G(t,2),e=n[0],r=n[1];return this.text(e,r).then(function(t){return z.self.d3.tsvParse(t,r.row)})}}])}();var dt=n("Semaphore"),wt=function t(n,e){var r=this;E(this,t);var i=[new Promise(function(t,n){r.resolve=t,r.reject=n}),new Promise(function(t){r.let=t}).then(function(){e(r.resolve,r.reject)})];this.promise=Promise.all(i).then(function(t){return n.signal(),t[0]},function(t){return n.signal(),Promise.reject(t)})},mt=(function(){function t(n){E(this,t);var e=dt(this);e.capacity=n,e.available=n,e.queue=[]}T(t,[{key:"wait",value:function(t){var n=dt(this),e=new wt(this,t);return 0===n.available?n.queue.push(e):(--n.available,e.let()),e.promise}},{key:"signal",value:function(){var t=dt(this);0===t.queue.length?++t.available:t.queue.shift().let()}},{key:"capacity",get:function(){return dt(this).capacity}},{key:"available",get:function(){return dt(this).available}}])}(),n("Singleton")),bt=(function(){function t(){if(E(this,t),void 0!==mt(this.constructor).instance)throw new Error("Attempt to create multiple instances for singleton")}T(t,null,[{key:"get",value:function(){var t=mt(this);if(void 0===t.instance){for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];t.instance=new(Function.prototype.bind.apply(this,[null].concat(e)))}return t.instance}}])}(),function(){function t(){E(this,t)}T(t,null,[{key:"transform",value:function(t,n,e){var r=[];return t.forEach(function(i,o){var u=o%n;if(r[u]=i,u===n-1)for(var a=e.apply(void 0,r.concat([Math.floor(o/n)])),s=0;s<n;++s)t[o-(n-s-1)]=a[s]}),t}},{key:"forEach",value:function(t,n,e){var r=[];t.forEach(function(t,i){var o=i%n;r[o]=t,o===n-1&&e.apply(void 0,r.concat([Math.floor(i/n)]))})}},{key:"some",value:function(t,n,e){var r=[];return t.some(function(t,i){var o=i%n;return r[o]=t,o===n-1&&e.apply(void 0,r.concat([Math.floor(i/n)]))})}},{key:"every",value:function(t,n,e){var r=[];return t.every(function(t,i){var o=i%n;return r[o]=t,o!==n-1||e.apply(void 0,r.concat([Math.floor(i/n)]))})}},{key:"reduce",value:function(t,n,e,r){var i=[];return t.reduce(function(t,r,o){var u=o%n;return i[u]=r,u===n-1?e.apply(void 0,[t].concat(i,[Math.floor(o/n)])):t},r)}}])}(),r(function(t,n){!function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(256),r=0;r<t.length;r++)e[t.charCodeAt(r)]=r;n.encode=function(n){var e,r=new Uint8Array(n),i=r.length,o="";for(e=0;e<i;e+=3)o+=t[r[e]>>2],o+=t[(3&r[e])<<4|r[e+1]>>4],o+=t[(15&r[e+1])<<2|r[e+2]>>6],o+=t[63&r[e+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},n.decode=function(t){var n,r,i,o,u,a=.75*t.length,s=t.length,c=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var f=new ArrayBuffer(a),h=new Uint8Array(f);for(n=0;n<s;n+=4)r=e[t.charCodeAt(n)],i=e[t.charCodeAt(n+1)],o=e[t.charCodeAt(n+2)],u=e[t.charCodeAt(n+3)],h[c++]=r<<2|i>>4,h[c++]=(15&i)<<4|o>>2,h[c++]=(3&o)<<6|63&u;return f}}()}));if("node"===z.type){var kt=require("text-encoding");void 0===z.self.TextEncoder&&(z.self.TextEncoder=kt.TextEncoder),void 0===z.self.TextDecoder&&(z.self.TextDecoder=kt.TextDecoder)}!function(){function t(){E(this,t)}T(t,null,[{key:"encode",value:function(t){if("function"!=typeof TextEncoder)throw new Error("TextEncoder is missing");var n=new TextEncoder,e=JSON.stringify(t);return n.encode(e).buffer}},{key:"decode",value:function(t){if("function"!=typeof TextDecoder)throw new Error("TextDecoder is missing");var n=new TextDecoder,e=new DataView(t),r=n.decode(e);return JSON.parse(r)}},{key:"pack",value:function(t){return bt.encode(t)}},{key:"unpack",value:function(t){return bt.decode(t)}},{key:"packBufferGeometry",value:function(t){var n=this;Object.values(t.data.attributes).forEach(function(t){var e=new(0,z.self[t.type])(t.array).buffer;t.array=n.pack(e)})}},{key:"unpackBufferGeometry",value:function(t){var n=this;Object.values(t.data.attributes).forEach(function(t){var e=z.self[t.type],r=n.unpack(t.array);t.array=Array.from(new e(r))})}}])}();var xt,At=I.crypto||I.msCrypto;if(At&&At.getRandomValues){var Bt=new Uint8Array(16);xt=function(){return At.getRandomValues(Bt),Bt}}if(!xt){var St=new Array(16);xt=function(){for(var t,n=0;n<16;n++)0==(3&n)&&(t=4294967296*Math.random()),St[n]=t>>>((3&n)<<3)&255;return St}}for(var Mt=xt,Rt=[],jt=0;jt<256;++jt)Rt[jt]=(jt+256).toString(16).substr(1);var Et=Mt(),Tt=(Et[0],Et[1],Et[2],Et[3],Et[4],Et[5],Et[6],Et[7],{get identity(){return[1,0,0,0,1,0,0,0,1]},equals:function(t,n){return t===n||!(!Array.isArray(t)||!Array.isArray(n))&&(t.length===n.length&&t.every(function(t,e){return t===n[e]}))},transform:function(t,n){var e=G(n,3),r=e[0],i=e[1],o=e[2];return[t[0]*r+t[1]*i+t[2]*o,t[3]*r+t[4]*i+t[5]*o,t[6]*r+t[7]*i+t[8]*o]},multiply:function(t,n){var e=G(t,9),r=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],c=e[6],f=e[7],h=e[8],l=G(n,9),y=l[0],v=l[1],p=l[2],g=l[3],d=l[4],w=l[5],m=l[6],b=l[7],k=l[8];return[r*y+i*g+o*m,r*v+i*d+o*b,r*p+i*w+o*k,u*y+a*g+s*m,u*v+a*d+s*b,u*p+a*w+s*k,c*y+f*g+h*m,c*v+f*d+h*b,c*p+f*w+h*k]},invert:function(t){var n=G(t,9),e=n[0],r=n[1],i=n[2],o=n[3],u=n[4],a=n[5],s=n[6],c=n[7],f=n[8],h=u*f-a*c,l=a*s-o*f,y=o*c-u*s,v=e*h+r*l+i*y;if(0===v)throw new Error;return[h/v,(i*c-r*f)/v,(r*a-i*u)/v,l/v,(e*f-i*s)/v,(i*o-e*a)/v,y/v,(r*s-e*c)/v,(e*u-r*o)/v]}}),Ot=n("Tristimulus"),Ct=function(){function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;E(this,t);var r=Ot(this),i=n.x,o=n.y;r.y=e,r.x=e/o*i,r.z=e/o*(1-i-o)}return T(t,[{key:"toArray",value:function(){return[this.x,this.y,this.z]}},{key:"toString",value:function(){var t=this;return this.constructor.name+" { "+["x","y","z"].map(function(n){return n+": "+t[n]}).join(", ")+" }"}},{key:"inspect",value:function(){return this.toString()}},{key:"x",get:function(){return Ot(this).x}},{key:"y",get:function(){return Ot(this).y}},{key:"z",get:function(){return Ot(this).z}}]),t}(),Gt=n("ChromaticAdaptation"),qt=[.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296],Ft=[.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296],Pt=[.7328,.4296,-.1624,-.7036,1.6975,.0061,.003,.0136,.9834],_t=function(){function t(n,e){E(this,t);var r=Gt(this);r.matrix=n,r.inverseMatrix=e||Tt.invert(n),r.transformations=new Map}return T(t,[{key:"transformation",value:function(t,n){var e=Gt(this),r=Array.from(e.transformations.keys()).find(function(e){return t.equals(e.source)&&n.equals(e.destination)}),i=void 0;if(r)i=e.transformations.get(r);else{var o=new Ct(t).toArray(),u=G(o,3),a=u[0],s=u[1],c=u[2],f=new Ct(n).toArray(),h=G(f,3),l=h[0],y=h[1],v=h[2],p=Tt.transform(this.matrix,[a,s,c]),g=Tt.transform(this.matrix,[l,y,v]);i=Tt.multiply(this.inverseMatrix,[g[0]/p[0],0,0,0,g[1]/p[1],0,0,0,g[2]/p[2]]),i=Tt.multiply(i,this.matrix),e.transformations.set({source:t,destination:n},i)}return i}},{key:"toString",value:function(){var t=this;return this.constructor.name+" { "+["matrix","inverseMatrix"].map(function(n){return n+": "+t[n]}).join(", ")+" }"}},{key:"inspect",value:function(){return this.toString()}},{key:"matrix",get:function(){var t=Gt(this);return[].concat(q(t.matrix))}},{key:"inverseMatrix",get:function(){var t=Gt(this);return[].concat(q(t.inverseMatrix))}}],[{key:"new",value:function(t,n){var e=Gt(this);e.instances||(e.instances=new Map);var r=Array.from(e.instances.keys()).find(function(e){return Tt.equals(t,e.matrix)&&Tt.equals(n,e.inverseMatrix)}),i=void 0;return r?i=e.instances.get(r):(i=new this(t,n),e.instances.set({matrix:t,inverseMatrix:n},i)),i}}]),t}();Object.assign(_t,{Bradford:_t.new(qt),CIECAM97:_t.new(Ft),CIECAM02:_t.new(Pt),XYZ:_t.new(Tt.identity,Tt.identity)});var zt=n("Chromaticity"),Dt=function(){function t(n,e){E(this,t);var r=zt(this);r.x=n,r.y=e}return T(t,[{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y}},{key:"toArray",value:function(){return[this.x,this.y]}},{key:"toString",value:function(){var t=this;return this.constructor.name+" { "+["x","y"].map(function(n){return n+": "+t[n]}).join(", ")+" }"}},{key:"inspect",value:function(){return this.toString()}},{key:"x",get:function(){return zt(this).x}},{key:"y",get:function(){return zt(this).y}},{key:"z",get:function(){var t=zt(this);return 1-t.x-t.y}}]),t}(),Zt=function(t){function n(){return E(this,n),C(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return O(n,Dt),n}();Object.assign(Zt,{A:new Zt(.44757,.40745),B:new Zt(.34842,.35161),C:new Zt(.31006,.31616),D50:new Zt(.34567,.3585),D55:new Zt(.33242,.34743),D65:new Zt(.31271,.32902),D75:new Zt(.29902,.31485),E:new Zt(1/3,1/3),F1:new Zt(.3131,.33727),F2:new Zt(.37208,.37529),F3:new Zt(.4091,.3943),F4:new Zt(.44018,.40329),F5:new Zt(.31379,.34531),F6:new Zt(.3779,.38835),F7:new Zt(.31292,.32933),F8:new Zt(.34588,.35875),F9:new Zt(.37417,.37281),F10:new Zt(.34609,.35986),F11:new Zt(.38052,.37713),F12:new Zt(.43695,.40441)});var Lt=n("Primaries"),Xt=function(){function t(n,e,r,i){E(this,t);var o=Lt(this);o.r=n,o.g=e,o.b=r,o.w=i}return T(t,[{key:"toArray",value:function(){return[this.r,this.g,this.b,this.w]}},{key:"toString",value:function(){var t=this;return this.constructor.name+" { "+["r","g","b","w"].map(function(n){return n+": "+t[n]}).join(", ")+" }"}},{key:"inspect",value:function(){return this.toString()}},{key:"r",get:function(){return Lt(this).r}},{key:"g",get:function(){return Lt(this).g}},{key:"b",get:function(){return Lt(this).b}},{key:"w",get:function(){return Lt(this).w}}]),t}();Object.assign(Xt,{sRGB:new Xt(new Dt(.64,.33),new Dt(.3,.6),new Dt(.15,.06),new Zt(.3127,.329)),AdobeRGB:new Xt(new Dt(.64,.33),new Dt(.21,.71),new Dt(.15,.06),new Zt(.3127,.329))});var Yt=n("RGB"),It=function(){function t(){E(this,t);for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];var i=[].concat(e),o=Yt(this);if(e[e.length-1]instanceof Xt?o.primaries=i.pop():o.primaries=Xt.sRGB,0===i.length)this.r=0,this.g=0,this.b=0;else if(1===i.length){var u=G(i,1)[0];this.r=u||0,this.g=u||0,this.b=u||0}else{var a=G(i,3),s=a[0],c=a[1],f=a[2];this.r=s||0,this.g=c||0,this.b=f||0}}return T(t,[{key:"toArray",value:function(){return[this.r,this.g,this.b]}},{key:"toString",value:function(){var t=this;return this.constructor.name+" { "+["r","g","b"].map(function(n){return n+": "+t[n]}).join(", ")+" }"}},{key:"inspect",value:function(){return this.toString()}},{key:"red",get:function(){return this.r},set:function(t){this.r=t}},{key:"green",get:function(){return this.g},set:function(t){this.g=t}},{key:"blue",get:function(){return this.b},set:function(t){this.b=t}},{key:"primaries",get:function(){return Yt(this).primaries}}]),t}(),Ut=function(){function t(){E(this,t);for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];if(0===e.length)this.h=0,this.s=0,this.l=0;else if(1===e.length){var i=e[0];this.h=0,this.s=0,this.l=i||0}else{var o=e[0],u=e[1],a=e[2];this.h=o||0,this.s=u||0,this.l=a||0}}return T(t,[{key:"toRGB",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt.sRGB;return new(Function.prototype.bind.apply(It,[null].concat(q(d(this.toArray())),[t])))}},{key:"toArray",value:function(){return[this.h,this.s,this.l]}},{key:"toString",value:function(){var t=this;return this.constructor.name+" { "+["h","s","l"].map(function(n){return n+": "+t[n]}).join(", ")+" }"}},{key:"inspect",value:function(){return this.toString()}},{key:"hue",get:function(){return this.h},set:function(t){this.h=t}},{key:"saturation",get:function(){return this.s},set:function(t){this.s=t}},{key:"lightness",get:function(){return this.l},set:function(t){this.l=t}}],[{key:"fromRGB",value:function(t){return new(Function.prototype.bind.apply(this,[null].concat(q(g(t.toArray())))))}}]),t}(),Nt=function(){function t(){E(this,t);for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];if(0===e.length)this.h=0,this.s=0,this.v=0;else if(1===e.length){var i=e[0];this.h=0,this.s=0,this.v=i||0}else{var o=e[0],u=e[1],a=e[2];this.h=o||0,this.s=u||0,this.v=a||0}}return T(t,[{key:"toRGB",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt.sRGB;return new(Function.prototype.bind.apply(It,[null].concat(q(m(this.toArray())),[t])))}},{key:"toArray",value:function(){return[this.h,this.s,this.v]}},{key:"toString",value:function(){var t=this;return this.constructor.name+" { "+["h","s","v"].map(function(n){return n+": "+t[n]}).join(", ")+" }"}},{key:"inspect",value:function(){return this.toString()}},{key:"hue",get:function(){return this.h},set:function(t){this.h=t}},{key:"saturation",get:function(){return this.s},set:function(t){this.s=t}},{key:"value",get:function(){return this.v},set:function(t){this.v=t}}],[{key:"fromRGB",value:function(t){return new(Function.prototype.bind.apply(this,[null].concat(q(w(t.toArray())))))}}]),t}(),Ht=n("XYZ"),Jt=function(){function t(){E(this,t);for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];if(0===e.length)this.x=0,this.y=0,this.z=0;else if(1===e.length){var i=e[0];this.x=0,this.y=i||0,this.z=0}else{var o=e[0],u=e[1],a=e[2];this.x=o||0,this.y=u||0,this.z=a||0}}return T(t,[{key:"toRGB",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt.sRGB,n=this.x,e=this.y,r=this.z,i=k(t),o=i[0]*n+i[1]*e+i[2]*r,u=i[3]*n+i[4]*e+i[5]*r,a=i[6]*n+i[7]*e+i[8]*r;return new It(x(o),x(u),x(a),t)}},{key:"toArray",value:function(){return[this.x,this.y,this.z]}},{key:"toString",value:function(){var t=this;return this.constructor.name+" { "+["x","y","z"].map(function(n){return n+": "+t[n]}).join(", ")+" }"}},{key:"inspect",value:function(){return this.toString()}}],[{key:"fromRGB",value:function(t){var n=b(t.primaries),e=A(t.r),r=A(t.g),i=A(t.b);return new this(n[0]*e+n[1]*r+n[2]*i,n[3]*e+n[4]*r+n[5]*i,n[6]*e+n[7]*r+n[8]*i)}}]),t}(),Vt=n("Lab"),Kt=function(){function t(){E(this,t);for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];var i=[].concat(e),o=Vt(this);if(e[e.length-1]instanceof Zt?o.illuminant=i.pop():o.illuminant=Zt.D50,0===i.length)this.l=0,this.a=0,this.b=0;else if(1===i.length){var u=G(i,1)[0];this.l=u||0,this.a=0,this.b=0}else{var a=G(i,3),s=a[0],c=a[1],f=a[2];this.l=s||0,this.a=c||0,this.b=f||0}}return T(t,[{key:"toRGB",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt.sRGB;return this.toXYZ().toRGB(t)}},{key:"toXYZ",value:function(){var t=new Ct(this.illuminant),n=(this.l+16)/116;return new Jt(S(n+this.a/500)*t.x,S(n)*t.y,S(n-this.b/200)*t.z)}},{key:"toArray",value:function(){return[this.l,this.a,this.b]}},{key:"toString",value:function(){var t=this;return this.constructor.name+" { "+["l","a","b"].map(function(n){return n+": "+t[n]}).join(", ")+" }"}},{key:"inspect",value:function(){return this.toString()}},{key:"lightness",get:function(){return this.l},set:function(t){this.l=t}},{key:"illuminant",get:function(){return Vt(this).illuminant}}],[{key:"fromRGB",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zt.D50;return this.fromXYZ(Jt.fromRGB(t),n)}},{key:"fromXYZ",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zt.D50,e=new Ct(n),r=B(t.y/e.y);return new this(116*r-16,500*(B(t.x/e.x)-r),200*(r-B(t.z/e.z)),n)}}]),t}(),Wt=n("LCh"),Qt=function(){function t(){E(this,t);for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];var i=[].concat(e),o=Wt(this);if(e[e.length-1]instanceof Zt?o.illuminant=i.pop():o.illuminant=Zt.D50,0===i.length)this.l=0,this.c=0,this.h=0;else if(1===i.length){var u=G(i,1)[0];this.l=u||0,this.c=0,this.h=0}else{var a=G(i,3),s=a[0],c=a[1],f=a[2];this.l=s||0,this.c=c||0,this.h=f||0}}return T(t,[{key:"toRGB",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt.sRGB;return this.toLab().toRGB(t)}},{key:"toLab",value:function(){var t=this.l,n=this.c,e=this.h,r=this.illuminant;return new Kt(t,n*Math.cos(e),n*Math.sin(e),r)}},{key:"toArray",value:function(){return[this.l,this.c,this.h]}},{key:"toString",value:function(){var t=this;return this.constructor.name+" { "+["l","c","h"].map(function(n){return n+": "+t[n]}).join(", ")+" }"}},{key:"inspect",value:function(){return this.toString()}},{key:"lightness",get:function(){return this.l},set:function(t){this.l=t}},{key:"chroma",get:function(){return this.c},set:function(t){this.c=t}},{key:"hue",get:function(){return this.h},set:function(t){this.h=t}},{key:"illuminant",get:function(){return Wt(this).illuminant}}],[{key:"fromRGB",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zt.D50;return this.fromLab(Kt.fromRGB(t,n))}},{key:"fromLab",value:function(t){var n=t.l,e=t.a,r=t.b,i=t.illuminant;return new this(n,Math.sqrt(e*e+r*r),Math.atan2(r,e),i)}}]),t}(),$t=function(){function t(){E(this,t);for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];if(0===e.length)this.r=0,this.y=0,this.b=0;else if(1===e.length){var i=e[0];this.r=i||0,this.y=i||0,this.b=i||0}else{var o=e[0],u=e[1],a=e[2];this.r=o||0,this.y=u||0,this.b=a||0}}return T(t,[{key:"toRGB",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt.sRGB;return new(Function.prototype.bind.apply(It,[null].concat(q(R(this.toArray())),[t])))}},{key:"toArray",value:function(){return[this.r,this.y,this.b]}},{key:"toString",value:function(){var t=this;return this.constructor.name+" { "+["r","y","b"].map(function(n){return n+": "+t[n]}).join(", ")+" }"}},{key:"inspect",value:function(){return this.toString()}},{key:"red",get:function(){return this.r},set:function(t){this.r=t}},{key:"yellow",get:function(){return this.y},set:function(t){this.y=t}},{key:"blue",get:function(){return this.b},set:function(t){this.b=t}}],[{key:"fromRGB",value:function(t){return new(Function.prototype.bind.apply(this,[null].concat(q(M(t.toArray())))))}}]),t}();t.ChromaticAdaptation=_t,t.Chromaticity=Dt,t.HSL=Ut,t.HSV=Nt,t.Illuminant=Zt,t.Lab=Kt,t.LCh=Qt,t.Primaries=Xt,t.RGB=It,t.RYB=$t,t.Tristimulus=Ct,t.XYZ=Jt,Object.defineProperty(t,"__esModule",{value:!0})});