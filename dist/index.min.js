!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.Color={})}(this,function(t){"use strict";function n(t,n){return n={exports:{}},t(n,n.exports),n.exports}function e(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function r(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&e(t.slice(0,0))}function i(t){return decodeURIComponent(t.replace(/\+/g," "))}function o(t){var n,e={},r=void 0===(t=t||q.location||{})?"undefined":z(t);if("blob:"===t.protocol)e=new a(unescape(t.pathname),{});else if("string"===r){e=new a(t,{});for(n in ot)delete e[n]}else if("object"===r){for(n in t)n in ot||(e[n]=t[n]);void 0===e.slashes&&(e.slashes=rt.test(t.href))}return e}function u(t){var n=et.exec(t);return{protocol:n[1]?n[1].toLowerCase():"",slashes:!!n[2],rest:n[3]}}function s(t,n){for(var e=(n||"/").split("/").slice(0,-1).concat(t.split("/")),r=e.length,i=e[r-1],o=!1,u=0;r--;)"."===e[r]?e.splice(r,1):".."===e[r]?(e.splice(r,1),u++):u&&(0===r&&(o=!0),e.splice(r,1),u--);return o&&e.unshift(""),"."!==i&&".."!==i||e.push(""),e.join("/")}function a(t,n,e){if(!(this instanceof a))return new a(t,n,e);var r,i,c,h,f,l,y=it.slice(),v=void 0===n?"undefined":z(n),p=this,g=0;for("object"!==v&&"string"!==v&&(e=n,n=null),e&&"function"!=typeof e&&(e=nt.parse),n=o(n),r=!(i=u(t||"")).protocol&&!i.slashes,p.slashes=i.slashes||r&&n.slashes,p.protocol=i.protocol||n.protocol||"",t=i.rest,i.slashes||(y[2]=[/(.*)/,"pathname"]);g<y.length;g++)c=(h=y[g])[0],l=h[1],c!==c?p[l]=t:"string"==typeof c?~(f=t.indexOf(c))&&("number"==typeof h[2]?(p[l]=t.slice(0,f),t=t.slice(f+h[2])):(p[l]=t.slice(f),t=t.slice(0,f))):(f=c.exec(t))&&(p[l]=f[1],t=t.slice(0,f.index)),p[l]=p[l]||(r&&h[3]?n[l]||"":""),h[4]&&(p[l]=p[l].toLowerCase());e&&(p.query=e(p.query)),r&&n.slashes&&"/"!==p.pathname.charAt(0)&&(""!==p.pathname||""!==n.pathname)&&(p.pathname=s(p.pathname,n.pathname)),$(p.port,p.protocol)||(p.host=p.hostname,p.port=""),p.username=p.password="",p.auth&&(h=p.auth.split(":"),p.username=h[0]||"",p.password=h[1]||""),p.origin=p.protocol&&p.host&&"file:"!==p.protocol?p.protocol+"//"+p.host:"null",p.href=p.toString()}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=Symbol(t);return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return void 0===t[n]&&(t[n]=e({})),t[n]}}function h(t){this.message=t}function f(t){this.message=t}function l(t,n){return new Promise(function(e,r){var i=new At(t,!0);n.query&&i.set("query",Object.assign({},i.query,n.query));var o=new XMLHttpRequest;o.open("get",i.toString(),!0),n.headers&&Object.entries(n.headers).forEach(function(t){o.setRequestHeader.apply(o,_(t))}),o.responseType=n.type,o.addEventListener("loadend",function(t){o.status<200||o.status>=300?r(o.status):null!==o.response||"json"!==n.type?e(o.response):r(new Error("Could not parse JSON"))},!1),o.send()})}function y(t,n){return n.local?new Promise(function(e,r){Bt(t,n.encoding,function(t,n){t?r(t):e(n)})}):new Promise(function(e,r){Mt({url:t,headers:n.headers||{},qs:n.query||{},encoding:n.encoding},function(t,n){t?r(t):((n.statusCode<200||n.statusCode>=300)&&r(n.statusCode),e(n.body))})})}function v(t,n){if("node"===wt.type){var e=y(t,n);return"json"===n.type?e.then(function(t){if("string"!=typeof t)throw new Error("Response is unexpectedly not a string");return JSON.parse(t)}):"arraybuffer"===n.type?e.then(function(t){if(!(t instanceof Buffer))throw new Error("Response is unexpectedly not a buffer");for(var n=new ArrayBuffer(t.length),e=new Uint8Array(n),r=0;r<t.length;++r)e[r]=t[r];return n}):e}return l(t,n)}function p(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];var r=n[0],i=n[1];if("string"!=typeof r&&(r=(i=r).url),"string"!=typeof r)throw new Error("The first argument or options.url must be a string");return i=Object.assign({},{type:"text",local:!1,encoding:"utf-8"},i),[r,i]}function g(t){var n=Y(t,3),e=n[0],r=n[1],i=n[2],o=Math.max(e,r,i),u=Math.min(e,r,i),s=void 0,a=void 0,c=(o+u)/2;if(o===u)s=0,a=0;else{var h=o-u;a=c>.5?h/(2-o-u):h/(o+u),s=o===e?((r-i)/h+(r<i?6:0))/6:o===r?((i-e)/h+2)/6:((e-r)/h+4)/6}return[s,a,c]}function d(t){var n=Y(t,3),e=n[0],r=n[1],i=n[2],o=void 0,u=void 0,s=void 0;if(0===r)o=i,u=i,s=i;else{var a=i<.5?i*(1+r):i+r-i*r,c=2*i-a,h=function(t){var n=t;return n<0&&(n+=1),n>1&&(n-=1),n<1/6?c+6*(a-c)*n:n<.5?a:n<2/3?c+(a-c)*(2/3-n)*6:c};o=h(e+1/3),u=h(e),s=h(e-1/3)}return[o,u,s]}function m(t){var n=Y(t,3),e=n[0],r=n[1],i=n[2],o=Math.max(e,r,i),u=Math.min(e,r,i),s=o-u,a=0===o?0:s/o,c=o,h=void 0;return h=o===u?0:o===e?((r-i)/s+(r<i?6:0))/6:o===r?((i-e)/s+2)/6:((e-r)/s+4)/6,[h,a,c]}function w(t){var n=Y(t,3),e=n[0],r=n[1],i=n[2],o=Math.floor(6*e),u=6*e-o,s=i*(1-r),a=i*(1-u*r),c=i*(1-(1-u)*r);switch(o%6){case 0:return[i,c,s];case 1:return[a,i,s];case 2:return[s,i,c];case 3:return[s,a,i];case 4:return[c,s,i];case 5:return[i,s,a]}return[0,0,0]}function k(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055}function b(t){return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function x(t){return t>216/24389?Math.pow(t,1/3):841/108*t+4/29}function A(t){return t>6/29?Math.pow(t,3):108/841*(t-4/29)}function B(t){return t>216/24389?Math.pow(t,1/3):841/108*t+4/29}function M(t){return t>6/29?Math.pow(t,3):108/841*(t-4/29)}function R(t){var n=t.x,e=t.y,r=t.z;return{u:4*n/(n+15*e+3*r),v:9*n/(n+15*e+3*r)}}function S(t){var n=Y(t,3),e=n[0],r=n[1],i=n[2],o=Math.min(e,r,i);e-=o,r-=o,i-=o;var u=Math.max(e,r,i),s=Math.min(e,r);e-=s,r-=s,0!==i&&0!==r&&(i/=2,r/=2),s+=r,i+=r;var a=Math.max(e,s,i);if(0!==a){var c=u/a;e*=c,s*=c,i*=c}return e+=o,s+=o,i+=o,[e,s,i]}function j(t){var n=Y(t,3),e=n[0],r=n[1],i=n[2],o=Math.min(e,r,i);e-=o,r-=o,i-=o;var u=Math.max(e,r,i),s=Math.min(r,i);r-=s,0!==(i-=s)&&0!==s&&(i*=2,s*=2),e+=r,s+=r;var a=Math.max(e,s,i);if(0!==a){var c=u/a;e*=c,s*=c,i*=c}return e+=o,s+=o,i+=o,[e,s,i]}var G,T,E,q="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},C=n(function(t){!function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(t,n){return t<<n|t>>>32-n},rotr:function(t,n){return t<<32-n|t>>>n},endian:function(t){if(t.constructor==Number)return 16711935&e.rotl(t,8)|4278255360&e.rotl(t,24);for(var n=0;n<t.length;n++)t[n]=e.endian(t[n]);return t},randomBytes:function(t){for(var n=[];t>0;t--)n.push(Math.floor(256*Math.random()));return n},bytesToWords:function(t){for(var n=[],e=0,r=0;e<t.length;e++,r+=8)n[r>>>5]|=t[e]<<24-r%32;return n},wordsToBytes:function(t){for(var n=[],e=0;e<32*t.length;e+=8)n.push(t[e>>>5]>>>24-e%32&255);return n},bytesToHex:function(t){for(var n=[],e=0;e<t.length;e++)n.push((t[e]>>>4).toString(16)),n.push((15&t[e]).toString(16));return n.join("")},hexToBytes:function(t){for(var n=[],e=0;e<t.length;e+=2)n.push(parseInt(t.substr(e,2),16));return n},bytesToBase64:function(t){for(var e=[],r=0;r<t.length;r+=3)for(var i=t[r]<<16|t[r+1]<<8|t[r+2],o=0;o<4;o++)8*r+6*o<=8*t.length?e.push(n.charAt(i>>>6*(3-o)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],r=0,i=0;r<t.length;i=++r%4)0!=i&&e.push((n.indexOf(t.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|n.indexOf(t.charAt(r))>>>6-2*i);return e}};t.exports=e}()}),O={utf8:{stringToBytes:function(t){return O.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(O.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var n=[],e=0;e<t.length;e++)n.push(255&t.charCodeAt(e));return n},bytesToString:function(t){for(var n=[],e=0;e<t.length;e++)n.push(String.fromCharCode(t[e]));return n.join("")}}},F=O,P=function(t){return null!=t&&(e(t)||r(t)||!!t._isBuffer)},z=(n(function(t){!function(){var n=C,e=F.utf8,r=P,i=F.bin,o=function t(o,u){o.constructor==String?o=u&&"binary"===u.encoding?i.stringToBytes(o):e.stringToBytes(o):r(o)?o=Array.prototype.slice.call(o,0):Array.isArray(o)||(o=o.toString());for(var s=n.bytesToWords(o),a=8*o.length,c=1732584193,h=-271733879,f=-1732584194,l=271733878,y=0;y<s.length;y++)s[y]=16711935&(s[y]<<8|s[y]>>>24)|4278255360&(s[y]<<24|s[y]>>>8);s[a>>>5]|=128<<a%32,s[14+(a+64>>>9<<4)]=a;for(var v=t._ff,p=t._gg,g=t._hh,d=t._ii,y=0;y<s.length;y+=16){var m=c,w=h,k=f,b=l;h=d(h=d(h=d(h=d(h=g(h=g(h=g(h=g(h=p(h=p(h=p(h=p(h=v(h=v(h=v(h=v(h,f=v(f,l=v(l,c=v(c,h,f,l,s[y+0],7,-680876936),h,f,s[y+1],12,-389564586),c,h,s[y+2],17,606105819),l,c,s[y+3],22,-1044525330),f=v(f,l=v(l,c=v(c,h,f,l,s[y+4],7,-176418897),h,f,s[y+5],12,1200080426),c,h,s[y+6],17,-1473231341),l,c,s[y+7],22,-45705983),f=v(f,l=v(l,c=v(c,h,f,l,s[y+8],7,1770035416),h,f,s[y+9],12,-1958414417),c,h,s[y+10],17,-42063),l,c,s[y+11],22,-1990404162),f=v(f,l=v(l,c=v(c,h,f,l,s[y+12],7,1804603682),h,f,s[y+13],12,-40341101),c,h,s[y+14],17,-1502002290),l,c,s[y+15],22,1236535329),f=p(f,l=p(l,c=p(c,h,f,l,s[y+1],5,-165796510),h,f,s[y+6],9,-1069501632),c,h,s[y+11],14,643717713),l,c,s[y+0],20,-373897302),f=p(f,l=p(l,c=p(c,h,f,l,s[y+5],5,-701558691),h,f,s[y+10],9,38016083),c,h,s[y+15],14,-660478335),l,c,s[y+4],20,-405537848),f=p(f,l=p(l,c=p(c,h,f,l,s[y+9],5,568446438),h,f,s[y+14],9,-1019803690),c,h,s[y+3],14,-187363961),l,c,s[y+8],20,1163531501),f=p(f,l=p(l,c=p(c,h,f,l,s[y+13],5,-1444681467),h,f,s[y+2],9,-51403784),c,h,s[y+7],14,1735328473),l,c,s[y+12],20,-1926607734),f=g(f,l=g(l,c=g(c,h,f,l,s[y+5],4,-378558),h,f,s[y+8],11,-2022574463),c,h,s[y+11],16,1839030562),l,c,s[y+14],23,-35309556),f=g(f,l=g(l,c=g(c,h,f,l,s[y+1],4,-1530992060),h,f,s[y+4],11,1272893353),c,h,s[y+7],16,-155497632),l,c,s[y+10],23,-1094730640),f=g(f,l=g(l,c=g(c,h,f,l,s[y+13],4,681279174),h,f,s[y+0],11,-358537222),c,h,s[y+3],16,-722521979),l,c,s[y+6],23,76029189),f=g(f,l=g(l,c=g(c,h,f,l,s[y+9],4,-640364487),h,f,s[y+12],11,-421815835),c,h,s[y+15],16,530742520),l,c,s[y+2],23,-995338651),f=d(f,l=d(l,c=d(c,h,f,l,s[y+0],6,-198630844),h,f,s[y+7],10,1126891415),c,h,s[y+14],15,-1416354905),l,c,s[y+5],21,-57434055),f=d(f,l=d(l,c=d(c,h,f,l,s[y+12],6,1700485571),h,f,s[y+3],10,-1894986606),c,h,s[y+10],15,-1051523),l,c,s[y+1],21,-2054922799),f=d(f,l=d(l,c=d(c,h,f,l,s[y+8],6,1873313359),h,f,s[y+15],10,-30611744),c,h,s[y+6],15,-1560198380),l,c,s[y+13],21,1309151649),f=d(f,l=d(l,c=d(c,h,f,l,s[y+4],6,-145523070),h,f,s[y+11],10,-1120210379),c,h,s[y+2],15,718787259),l,c,s[y+9],21,-343485551),c=c+m>>>0,h=h+w>>>0,f=f+k>>>0,l=l+b>>>0}return n.endian([c,h,f,l])};o._ff=function(t,n,e,r,i,o,u){var s=t+(n&e|~n&r)+(i>>>0)+u;return(s<<o|s>>>32-o)+n},o._gg=function(t,n,e,r,i,o,u){var s=t+(n&r|e&~r)+(i>>>0)+u;return(s<<o|s>>>32-o)+n},o._hh=function(t,n,e,r,i,o,u){var s=t+(n^e^r)+(i>>>0)+u;return(s<<o|s>>>32-o)+n},o._ii=function(t,n,e,r,i,o,u){var s=t+(e^(n|~r))+(i>>>0)+u;return(s<<o|s>>>32-o)+n},o._blocksize=16,o._digestsize=16,t.exports=function(t,e){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var r=n.wordsToBytes(o(t,e));return e&&e.asBytes?r:e&&e.asString?i.bytesToString(r):n.bytesToHex(r)}}()}),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}),D=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},Z=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),L=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)},X=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n},Y=function(){function t(t,n){var e=[],r=!0,i=!1,o=void 0;try{for(var u,s=t[Symbol.iterator]();!(r=(u=s.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)},I={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},U=function(t){throw{name:"SyntaxError",message:t,at:G,text:void 0}},H=function(t){return t&&t!==T&&U("Expected '"+t+"' instead of '"+T+"'"),T=(void 0).charAt(G),G+=1,T},N=function(){var t,n="";for("-"===T&&(n="-",H("-"));T>="0"&&T<="9";)n+=T,H();if("."===T)for(n+=".";H()&&T>="0"&&T<="9";)n+=T;if("e"===T||"E"===T)for(n+=T,H(),"-"!==T&&"+"!==T||(n+=T,H());T>="0"&&T<="9";)n+=T,H();if(t=+n,isFinite(t))return t;U("Bad number")},V=function(){var t,n,e,r="";if('"'===T)for(;H();){if('"'===T)return H(),r;if("\\"===T)if(H(),"u"===T){for(e=0,n=0;n<4&&(t=parseInt(H(),16),isFinite(t));n+=1)e=16*e+t;r+=String.fromCharCode(e)}else{if("string"!=typeof I[T])break;r+=I[T]}else r+=T}U("Bad string")},J=function(){for(;T&&T<=" ";)H()},K=function(){switch(T){case"t":return H("t"),H("r"),H("u"),H("e"),!0;case"f":return H("f"),H("a"),H("l"),H("s"),H("e"),!1;case"n":return H("n"),H("u"),H("l"),H("l"),null}U("Unexpected '"+T+"'")},W=function(){var t=[];if("["===T){if(H("["),J(),"]"===T)return H("]"),t;for(;T;){if(t.push(E()),J(),"]"===T)return H("]"),t;H(","),J()}}U("Bad array")},Q=function(){var t,n={};if("{"===T){if(H("{"),J(),"}"===T)return H("}"),n;for(;T;){if(t=V(),J(),H(":"),Object.hasOwnProperty.call(n,t)&&U('Duplicate key "'+t+'"'),n[t]=E(),J(),"}"===T)return H("}"),n;H(","),J()}}U("Bad object")};E=function(){switch(J(),T){case"{":return Q();case"[":return W();case'"':return V();case"-":return N();default:return T>="0"&&T<="9"?N():K()}};var $=function(t,n){if(n=n.split(":")[0],!(t=+t))return!1;switch(n){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t},tt=Object.prototype.hasOwnProperty,nt={stringify:function(t,n){var e=[];"string"!=typeof(n=n||"")&&(n="?");for(var r in t)tt.call(t,r)&&e.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e.length?n+e.join("&"):""},parse:function(t){for(var n,e=/([^=?&]+)=?([^&]*)/g,r={};n=e.exec(t);r[i(n[1])]=i(n[2]));return r}},et=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,rt=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,it=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ot={hash:1,query:1};a.prototype={set:function(t,n,e){var r=this;switch(t){case"query":"string"==typeof n&&n.length&&(n=(e||nt.parse)(n)),r[t]=n;break;case"port":r[t]=n,$(n,r.protocol)?n&&(r.host=r.hostname+":"+n):(r.host=r.hostname,r[t]="");break;case"hostname":r[t]=n,r.port&&(n+=":"+r.port),r.host=n;break;case"host":r[t]=n,/:\d+$/.test(n)?(n=n.split(":"),r.port=n.pop(),r.hostname=n.join(":")):(r.hostname=n,r.port="");break;case"protocol":r.protocol=n.toLowerCase(),r.slashes=!e;break;case"pathname":r.pathname=n.length&&"/"!==n.charAt(0)?"/"+n:n;break;default:r[t]=n}for(var i=0;i<it.length;i++){var o=it[i];o[4]&&(r[o[1]]=r[o[1]].toLowerCase())}return r.origin=r.protocol&&r.host&&"file:"!==r.protocol?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(t){t&&"function"==typeof t||(t=nt.stringify);var n,e=this,r=e.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var i=r+(e.slashes?"//":"");return e.username&&(i+=e.username,e.password&&(i+=":"+e.password),i+="@"),i+=e.host+e.pathname,(n="object"===z(e.query)?t(e.query):e.query)&&(i+="?"!==n.charAt(0)?"?"+n:n),e.hash&&(i+=e.hash),i}},a.extractProtocol=u,a.location=o,a.qs=nt;var ut,st=a,at=n(function(t,n){!function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(256),r=0;r<t.length;r++)e[t.charCodeAt(r)]=r;n.encode=function(n){var e,r=new Uint8Array(n),i=r.length,o="";for(e=0;e<i;e+=3)o+=t[r[e]>>2],o+=t[(3&r[e])<<4|r[e+1]>>4],o+=t[(15&r[e+1])<<2|r[e+2]>>6],o+=t[63&r[e+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},n.decode=function(t){var n,r,i,o,u,s=.75*t.length,a=t.length,c=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var h=new ArrayBuffer(s),f=new Uint8Array(h);for(n=0;n<a;n+=4)r=e[t.charCodeAt(n)],i=e[t.charCodeAt(n+1)],o=e[t.charCodeAt(n+2)],u=e[t.charCodeAt(n+3)],f[c++]=r<<2|i>>4,f[c++]=(15&i)<<4|o>>2,f[c++]=(3&o)<<6|63&u;return h}}()}),ct=q.crypto||q.msCrypto;if(ct&&ct.getRandomValues){var ht=new Uint8Array(16);ut=function(){return ct.getRandomValues(ht),ht}}if(!ut){var ft=new Array(16);ut=function(){for(var t,n=0;n<16;n++)0==(3&n)&&(t=4294967296*Math.random()),ft[n]=t>>>((3&n)<<3)&255;return ft}}for(var lt=ut,yt=[],vt=0;vt<256;++vt)yt[vt]=(vt+256).toString(16).substr(1);var pt=lt(),gt=(pt[0],pt[1],pt[2],pt[3],pt[4],pt[5],pt[6],pt[7],c("AggregateFunction")),dt=function(){function t(n){if(D(this,t),n!==gt)throw new Error;for(var e=gt(this),r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];e.targets=i}return Z(t,[{key:"apply",value:function(t,n,e){return gt(this).targets.map(function(t){return Reflect.apply(t,n,e)})}},{key:"getPrototypeOf",value:function(t){return this.constructor.prototype}}],[{key:"new",value:function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];var r=new(Function.prototype.bind.apply(this,[null].concat([gt],n)));return new Proxy(function(){},r)}}]),t}(),mt=c("Aggregate");!function(){function t(n){if(D(this,t),n!==mt)throw new Error;for(var e=mt(this),r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];e.targets=i}Z(t,[{key:"set",value:function(t,n,e,r){return mt(this).targets.forEach(function(t){Reflect.set(t,n,e)}),Reflect.set(t,n,e,r)}},{key:"get",value:function(t,n,e){var r=mt(this);return r.targets.every(function(t){return"function"==typeof Reflect.get(t,n)})?dt.new.apply(dt,_(r.targets.map(function(t){return Reflect.get(t,n).bind(t)}))):Reflect.get(r.targets[0],n,e)}},{key:"getPrototypeOf",value:function(t){return this.constructor.prototype}}],[{key:"new",value:function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];var r=new(Function.prototype.bind.apply(this,[null].concat([mt],n)));return new Proxy({},r)}}])}();Object.setPrototypeOf(h,Error),(h.prototype=Object.create(Error.prototype)).name="AssertionError",h.prototype.message="",h.prototype.constructor=h;var wt=function(){function t(){D(this,t)}return Z(t,null,[{key:"type",get:function(){try{if(new Function("return this === window")())return"browser"}catch(t){}try{if(new Function("return this === self")())return"worker"}catch(t){}try{if(new Function("return this === global")())return"node"}catch(t){}throw new Error}},{key:"self",get:function(){switch(this.type){case"browser":return window;case"worker":return self;case"node":return global}throw new Error}}]),t}(),kt=c("FilePath"),bt=function(){function t(){D(this,t)}return Z(t,null,[{key:"self",get:function(){return kt(this).self}},{key:"current",get:function(){switch(wt.type){case"browser":return window.location.href;case"worker":return self.location.href;case"node":return process.cwd()}throw new Error}}]),t}();kt(bt).self=bt.current,Object.setPrototypeOf(f,Error),(f.prototype=Object.create(Error.prototype)).name="ImplementationError",f.prototype.message="",f.prototype.constructor=f;var xt=c("Multiton"),At=(function(){function t(n){if(D(this,t),this.constructor.has(n))throw new Error('Attempt to create multiple instances for key "'+n+'"')}Z(t,null,[{key:"has",value:function(t){var n=xt(this);if(void 0===n.instances)return!1;var e=this.coerceKey(t);return void 0!==n.instances[e]}},{key:"for",value:function(t){var n=xt(this);n.instances||(n.instances=new Map);var e=this.coerceKey(t);if(n.instances.has(e))return n.instances.get(e);for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var u=this.new.apply(this,[e].concat(i));return n.instances.set(e,u),u}},{key:"new",value:function(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return new(Function.prototype.bind.apply(this,[null].concat([t],e)))}},{key:"coerceKey",value:function(t){return t}}])}(),function(t){function n(){return D(this,n),X(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return L(n,st),n}()),Bt=void 0,Mt=void 0;if("node"===wt.type){var Rt=require("fs");Bt=Rt.readFile,Mt=require("request")}!function(){function t(){D(this,t)}Z(t,null,[{key:"text",value:function(){var t=p.apply(void 0,arguments),n=Y(t,2),e=n[0],r=n[1];return r.type="text",v(e,r)}},{key:"json",value:function(){var t=p.apply(void 0,arguments),n=Y(t,2),e=n[0],r=n[1];return r.type="json",v(e,r)}},{key:"buffer",value:function(){var t=p.apply(void 0,arguments),n=Y(t,2),e=n[0],r=n[1];return r.type="arraybuffer",r.encoding=null,v(e,r)}},{key:"csv",value:function(){var t=p.apply(void 0,arguments),n=Y(t,2),e=n[0],r=n[1];return this.text(e,r).then(function(t){return wt.self.d3.csvParse(t,r.row)})}},{key:"tsv",value:function(){var t=p.apply(void 0,arguments),n=Y(t,2),e=n[0],r=n[1];return this.text(e,r).then(function(t){return wt.self.d3.tsvParse(t,r.row)})}}])}();var St=c("Semaphore"),jt=function t(n,e){var r=this;D(this,t);var i=[new Promise(function(t,n){r.resolve=t,r.reject=n}),new Promise(function(t){r.let=t}).then(function(){e(r.resolve,r.reject)})];this.promise=Promise.all(i).then(function(t){return n.signal(),t[0]},function(t){return n.signal(),Promise.reject(t)})},Gt=(function(){function t(n){D(this,t);var e=St(this);e.capacity=n,e.available=n,e.queue=[]}Z(t,[{key:"wait",value:function(t){var n=St(this),e=new jt(this,t);return 0===n.available?n.queue.push(e):(--n.available,e.let()),e.promise}},{key:"signal",value:function(){var t=St(this);0===t.queue.length?++t.available:t.queue.shift().let()}},{key:"capacity",get:function(){return St(this).capacity}},{key:"available",get:function(){return St(this).available}}])}(),c("Singleton"));(function(){function t(){if(D(this,t),void 0!==Gt(this.constructor).instance)throw new Error("Attempt to create multiple instances for singleton")}Z(t,null,[{key:"get",value:function(){var t=Gt(this);return void 0===t.instance&&(t.instance=this.new.apply(this,arguments)),t.instance}},{key:"new",value:function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];return new(Function.prototype.bind.apply(this,[null].concat(n)))}}])})(),function(){function t(){D(this,t)}Z(t,null,[{key:"transform",value:function(t,n,e){var r=[];return t.forEach(function(i,o){var u=o%n;if(r[u]=i,u===n-1)for(var s=e.apply(void 0,r.concat([Math.floor(o/n)])),a=0;a<n;++a)t[o-(n-a-1)]=s[a]}),t}},{key:"forEach",value:function(t,n,e){var r=[];t.forEach(function(t,i){var o=i%n;r[o]=t,o===n-1&&e.apply(void 0,r.concat([Math.floor(i/n)]))})}},{key:"some",value:function(t,n,e){var r=[];return t.some(function(t,i){var o=i%n;return r[o]=t,o===n-1&&e.apply(void 0,r.concat([Math.floor(i/n)]))})}},{key:"every",value:function(t,n,e){var r=[];return t.every(function(t,i){var o=i%n;return r[o]=t,o!==n-1||e.apply(void 0,r.concat([Math.floor(i/n)]))})}},{key:"reduce",value:function(t,n,e,r){var i=[];return t.reduce(function(t,r,o){var u=o%n;return i[u]=r,u===n-1?e.apply(void 0,[t].concat(i,[Math.floor(o/n)])):t},r)}}])}();if("node"===wt.type){var Tt=require("text-encoding");void 0===wt.self.TextEncoder&&(wt.self.TextEncoder=Tt.TextEncoder),void 0===wt.self.TextDecoder&&(wt.self.TextDecoder=Tt.TextDecoder)}!function(){function t(){D(this,t)}Z(t,null,[{key:"encode",value:function(t){if("function"!=typeof TextEncoder)throw new Error("TextEncoder is missing");var n=new TextEncoder,e=JSON.stringify(t);return n.encode(e).buffer}},{key:"decode",value:function(t){if("function"!=typeof TextDecoder)throw new Error("TextDecoder is missing");var n=new TextDecoder,e=new DataView(t),r=n.decode(e);return JSON.parse(r)}},{key:"pack",value:function(t){return at.encode(t)}},{key:"unpack",value:function(t){return at.decode(t)}},{key:"packBufferGeometry",value:function(t){var n=this;Object.values(t.data.attributes).forEach(function(t){var e=new(0,wt.self[t.type])(t.array).buffer;t.array=n.pack(e)})}},{key:"unpackBufferGeometry",value:function(t){var n=this;Object.values(t.data.attributes).forEach(function(t){var e=wt.self[t.type],r=n.unpack(t.array);t.array=Array.from(new e(r))})}}])}();var Et={get identity(){return[1,0,0,0,1,0,0,0,1]},equals:function(t,n){return t===n||!(!Array.isArray(t)||!Array.isArray(n))&&(t.length===n.length&&t.every(function(t,e){return t===n[e]}))},transform:function(t,n){var e=Y(n,3),r=e[0],i=e[1],o=e[2];return[t[0]*r+t[1]*i+t[2]*o,t[3]*r+t[4]*i+t[5]*o,t[6]*r+t[7]*i+t[8]*o]},multiply:function(t,n){var e=Y(t,9),r=e[0],i=e[1],o=e[2],u=e[3],s=e[4],a=e[5],c=e[6],h=e[7],f=e[8],l=Y(n,9),y=l[0],v=l[1],p=l[2],g=l[3],d=l[4],m=l[5],w=l[6],k=l[7],b=l[8];return[r*y+i*g+o*w,r*v+i*d+o*k,r*p+i*m+o*b,u*y+s*g+a*w,u*v+s*d+a*k,u*p+s*m+a*b,c*y+h*g+f*w,c*v+h*d+f*k,c*p+h*m+f*b]},invert:function(t){var n=Y(t,9),e=n[0],r=n[1],i=n[2],o=n[3],u=n[4],s=n[5],a=n[6],c=n[7],h=n[8],f=u*h-s*c,l=s*a-o*h,y=o*c-u*a,v=e*f+r*l+i*y;if(0===v)throw new Error;return[f/v,(i*c-r*h)/v,(r*s-i*u)/v,l/v,(e*h-i*a)/v,(i*o-e*s)/v,y/v,(r*a-e*c)/v,(e*u-r*o)/v]}},qt=c("Tristimulus"),Ct=function(){function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;D(this,t);var r=qt(this),i=n.x,o=n.y;r.y=e;var u=e/o;r.x=u*i,r.z=u*(1-i-o)}return Z(t,[{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}},{key:"toArray",value:function(){return[this.x,this.y,this.z]}},{key:"toString",value:function(){var t=this;return this.constructor.name+" { "+["x","y","z"].map(function(n){return n+": "+t[n]}).join(", ")+" }"}},{key:"inspect",value:function(){return this.toString()}},{key:"x",get:function(){return qt(this).x}},{key:"y",get:function(){return qt(this).y}},{key:"z",get:function(){return qt(this).z}}]),t}(),Ot=c("ChromaticAdaptation"),Ft=function(){function t(n,e){D(this,t);var r=Ot(this);r.matrix=n,r.inverseMatrix=e||Et.invert(n),r.transformationMatrices=new Map}return Z(t,[{key:"transformationMatrix",value:function(t,n){var e=Ot(this),r=Array.from(e.transformationMatrices.keys()).find(function(e){return t.equals(e.source)&&n.equals(e.destination)}),i=void 0;if(r)i=[].concat(_(e.transformationMatrices.get(r)));else{var o=new Ct(t).toArray(),u=Y(o,3),s=u[0],a=u[1],c=u[2],h=new Ct(n).toArray(),f=Y(h,3),l=f[0],y=f[1],v=f[2],p=Et.transform(this.matrix,[s,a,c]),g=Et.transform(this.matrix,[l,y,v]);i=Et.multiply(this.inverseMatrix,[g[0]/p[0],0,0,0,g[1]/p[1],0,0,0,g[2]/p[2]]),i=Et.multiply(i,this.matrix),e.transformationMatrices.set({source:t,destination:n},[].concat(_(i)))}return i}},{key:"toString",value:function(){var t=this;return this.constructor.name+" { "+["matrix","inverseMatrix"].map(function(n){return n+": "+t[n]}).join(", ")+" }"}},{key:"inspect",value:function(){return this.toString()}},{key:"matrix",get:function(){var t=Ot(this);return[].concat(_(t.matrix))}},{key:"inverseMatrix",get:function(){var t=Ot(this);return[].concat(_(t.inverseMatrix))}}],[{key:"new",value:function(t,n){var e=Ot(this);e.instances||(e.instances=new Map);var r=Array.from(e.instances.keys()).find(function(e){return Et.equals(t,e.matrix)&&Et.equals(n,e.inverseMatrix)}),i=void 0;return r?i=e.instances.get(r):(i=new this(t,n),e.instances.set({matrix:t,inverseMatrix:n},i)),i}}]),t}();Object.assign(Ft,{XYZ:Ft.new(Et.identity,Et.identity),Bradford:Ft.new([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),VonKries:Ft.new([.4002,.7076,-.0808,-.2263,1.1653,.0457,0,0,.9182]),CIECAM97:Ft.new([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),CIECAM02:Ft.new([.7328,.4296,-.1624,-.7036,1.6975,.0061,.003,.0136,.9834])});var Pt=c("Chromaticity"),zt=function(){function t(n,e){D(this,t);var r=Pt(this);r.x=n,r.y=e}return Z(t,[{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y}},{key:"toArray",value:function(){return[this.x,this.y]}},{key:"toString",value:function(){var t=this;return this.constructor.name+" { "+["x","y"].map(function(n){return n+": "+t[n]}).join(", ")+" }"}},{key:"inspect",value:function(){return this.toString()}},{key:"x",get:function(){return Pt(this).x}},{key:"y",get:function(){return Pt(this).y}},{key:"z",get:function(){var t=Pt(this);return 1-t.x-t.y}}]),t}(),Dt=function(t){function n(){return D(this,n),X(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return L(n,zt),n}();Object.assign(Dt,{A:new Dt(.44757,.40745),B:new Dt(.34842,.35161),C:new Dt(.31006,.31616),D50:new Dt(.34567,.3585),D55:new Dt(.33242,.34743),D65:new Dt(.31271,.32902),D75:new Dt(.29902,.31485),E:new Dt(1/3,1/3),F1:new Dt(.3131,.33727),F2:new Dt(.37208,.37529),F3:new Dt(.4091,.3943),F4:new Dt(.44018,.40329),F5:new Dt(.31379,.34531),F6:new Dt(.3779,.38835),F7:new Dt(.31292,.32933),F8:new Dt(.34588,.35875),F9:new Dt(.37417,.37281),F10:new Dt(.34609,.35986),F11:new Dt(.38052,.37713),F12:new Dt(.43695,.40441)});var Zt=c("Primaries"),Lt=function(){function t(n,e,r,i){D(this,t);var o=Zt(this);o.r=n,o.g=e,o.b=r,o.w=i}return Z(t,[{key:"toArray",value:function(){return[this.r,this.g,this.b,this.w]}},{key:"toString",value:function(){var t=this;return this.constructor.name+" { "+["r","g","b","w"].map(function(n){return n+": "+t[n]}).join(", ")+" }"}},{key:"inspect",value:function(){return this.toString()}},{key:"r",get:function(){return Zt(this).r}},{key:"g",get:function(){return Zt(this).g}},{key:"b",get:function(){return Zt(this).b}},{key:"w",get:function(){return Zt(this).w}},{key:"red",get:function(){return this.r}},{key:"green",get:function(){return this.g}},{key:"blue",get:function(){return this.b}},{key:"white",get:function(){return this.w}}]),t}();Object.assign(Lt,{sRGB:new Lt(new zt(.64,.33),new zt(.3,.6),new zt(.15,.06),new Dt(.3127,.329)),AdobeRGB:new Lt(new zt(.64,.33),new zt(.21,.71),new zt(.15,.06),new Dt(.3127,.329))});var Xt=c("RGB"),Yt=function(){function t(){D(this,t);for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];var i=[].concat(e),o=Xt(this);if(e[e.length-1]instanceof Lt?o.primaries=i.pop():o.primaries=Lt.sRGB,0===i.length)this.r=0,this.g=0,this.b=0;else if(1===i.length){var u=Y(i,1)[0];this.r=u||0,this.g=u||0,this.b=u||0}else{var s=Y(i,3),a=s[0],c=s[1],h=s[2];this.r=a||0,this.g=c||0,this.b=h||0}}return Z(t,[{key:"equals",value:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}},{key:"toArray",value:function(){return[this.r,this.g,this.b]}},{key:"toString",value:function(){var t=this;return this.constructor.name+" { "+["r","g","b"].map(function(n){return n+": "+t[n]}).join(", ")+" }"}},{key:"inspect",value:function(){return this.toString()}},{key:"red",get:function(){return this.r},set:function(t){this.r=t}},{key:"green",get:function(){return this.g},set:function(t){this.g=t}},{key:"blue",get:function(){return this.b},set:function(t){this.b=t}},{key:"primaries",get:function(){return Xt(this).primaries}}]),t}(),_t=function(){function t(){D(this,t);for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];if(0===e.length)this.h=0,this.s=0,this.l=0;else if(1===e.length){var i=e[0];this.h=0,this.s=0,this.l=i||0}else{var o=e[0],u=e[1],s=e[2];this.h=o||0,this.s=u||0,this.l=s||0}}return Z(t,[{key:"toRGB",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt.sRGB;return new(Function.prototype.bind.apply(Yt,[null].concat(_(d(this.toArray())),[t])))}},{key:"equals",value:function(t){return t.h===this.h&&t.s===this.s&&t.l===this.l}},{key:"toArray",value:function(){return[this.h,this.s,this.l]}},{key:"toString",value:function(){var t=this;return this.constructor.name+" { "+["h","s","l"].map(function(n){return n+": "+t[n]}).join(", ")+" }"}},{key:"inspect",value:function(){return this.toString()}},{key:"hue",get:function(){return this.h},set:function(t){this.h=t}},{key:"saturation",get:function(){return this.s},set:function(t){this.s=t}},{key:"lightness",get:function(){return this.l},set:function(t){this.l=t}}],[{key:"fromRGB",value:function(t){return new(Function.prototype.bind.apply(this,[null].concat(_(g(t.toArray())))))}}]),t}(),It=function(){function t(){D(this,t);for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];if(0===e.length)this.h=0,this.s=0,this.v=0;else if(1===e.length){var i=e[0];this.h=0,this.s=0,this.v=i||0}else{var o=e[0],u=e[1],s=e[2];this.h=o||0,this.s=u||0,this.v=s||0}}return Z(t,[{key:"toRGB",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt.sRGB;return new(Function.prototype.bind.apply(Yt,[null].concat(_(w(this.toArray())),[t])))}},{key:"equals",value:function(t){return t.h===this.h&&t.s===this.s&&t.v===this.v}},{key:"toArray",value:function(){return[this.h,this.s,this.v]}},{key:"toString",value:function(){var t=this;return this.constructor.name+" { "+["h","s","v"].map(function(n){return n+": "+t[n]}).join(", ")+" }"}},{key:"inspect",value:function(){return this.toString()}},{key:"hue",get:function(){return this.h},set:function(t){this.h=t}},{key:"saturation",get:function(){return this.s},set:function(t){this.s=t}},{key:"value",get:function(){return this.v},set:function(t){this.v=t}}],[{key:"fromRGB",value:function(t){return new(Function.prototype.bind.apply(this,[null].concat(_(m(t.toArray())))))}}]),t}(),Ut=c("XYZ"),Ht=function(){function t(){D(this,t);for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];var i=[].concat(e),o=Ut(this);if(e[e.length-1]instanceof Dt?o.illuminant=i.pop():o.illuminant=Dt.D50,0===i.length)this.x=0,this.y=0,this.z=0;else if(1===i.length){var u=Y(i,1)[0];this.x=0,this.y=u||0,this.z=0}else{var s=Y(i,3),a=s[0],c=s[1],h=s[2];this.x=a||0,this.y=c||0,this.z=h||0}}return Z(t,[{key:"toRGB",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt.sRGB,n=this.x,e=this.y,r=this.z,i=this.constructor.XYZToRGBMatrix(t,this.illuminant),o=i[0]*n+i[1]*e+i[2]*r,u=i[3]*n+i[4]*e+i[5]*r,s=i[6]*n+i[7]*e+i[8]*r;return new Yt(k(o),k(u),k(s),t)}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}},{key:"toArray",value:function(){return[this.x,this.y,this.z]}},{key:"toString",value:function(){var t=this;return this.constructor.name+" { "+["x","y","z"].map(function(n){return n+": "+t[n]}).join(", ")+" }"}},{key:"inspect",value:function(){return this.toString()}},{key:"illuminant",get:function(){return Ut(this).illuminant}}],[{key:"fromRGB",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt.D50,e=this.RGBToXYZMatrix(t.primaries),r=b(t.r),i=b(t.g),o=b(t.b);return new this(e[0]*r+e[1]*i+e[2]*o,e[3]*r+e[4]*i+e[5]*o,e[6]*r+e[7]*i+e[8]*o,n)}},{key:"RGBToXYZMatrix",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt.D50,e=Ut(t);if(void 0!==e.RGBToXYZMatrix)return[].concat(_(e.RGBToXYZMatrix));var r=new Ct(t.r).toArray(),i=Y(r,3),o=i[0],u=i[1],s=i[2],a=new Ct(t.g).toArray(),c=Y(a,3),h=c[0],f=c[1],l=c[2],y=new Ct(t.b).toArray(),v=Y(y,3),p=v[0],g=v[1],d=v[2],m=new Ct(t.w).toArray(),w=Y(m,3),k=w[0],b=w[1],x=w[2],A=Et.invert([o,h,p,u,f,g,s,l,d]),B=A[0]*k+A[1]*b+A[2]*x,M=A[3]*k+A[4]*b+A[5]*x,R=A[6]*k+A[7]*b+A[8]*x,S=Ft.Bradford.transformationMatrix(t.w,n),j=Et.multiply(S,[B*o,M*h,R*p,B*u,M*f,R*g,B*s,M*l,R*d]);return e.RGBToXYZMatrix=[].concat(_(j)),j}},{key:"XYZToRGBMatrix",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt.D50,e=Ut(t);if(void 0!==e.XYZToRGBMatrix)return[].concat(_(e.XYZToRGBMatrix));var r=Et.invert(this.RGBToXYZMatrix(t,n));return e.XYZToRGBMatrix=[].concat(_(r)),r}}]),t}(),Nt=c("Lab"),Vt=function(){function t(){D(this,t);for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];var i=[].concat(e),o=Nt(this);if(e[e.length-1]instanceof Dt?o.illuminant=i.pop():o.illuminant=Dt.D50,0===i.length)this.l=0,this.a=0,this.b=0;else if(1===i.length){var u=Y(i,1)[0];this.l=u||0,this.a=0,this.b=0}else{var s=Y(i,3),a=s[0],c=s[1],h=s[2];this.l=a||0,this.a=c||0,this.b=h||0}}return Z(t,[{key:"toRGB",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt.sRGB;return this.toXYZ().toRGB(t)}},{key:"toXYZ",value:function(){var t=new Ct(this.illuminant),n=(this.l+16)/116;return new Ht(A(n+this.a/500)*t.x,A(n)*t.y,A(n-this.b/200)*t.z)}},{key:"equals",value:function(t){return t.l===this.l&&t.a===this.a&&t.b===this.b}},{key:"toArray",value:function(){return[this.l,this.a,this.b]}},{key:"toString",value:function(){var t=this;return this.constructor.name+" { "+["l","a","b"].map(function(n){return n+": "+t[n]}).join(", ")+" }"}},{key:"inspect",value:function(){return this.toString()}},{key:"lightness",get:function(){return this.l},set:function(t){this.l=t}},{key:"illuminant",get:function(){return Nt(this).illuminant}}],[{key:"fromRGB",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt.D50;return this.fromXYZ(Ht.fromRGB(t),n)}},{key:"fromXYZ",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt.D50,e=new Ct(n),r=x(t.y/e.y);return new this(116*r-16,500*(x(t.x/e.x)-r),200*(r-x(t.z/e.z)),n)}}]),t}(),Jt=c("LCHab"),Kt=function(){function t(){D(this,t);for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];var i=[].concat(e),o=Jt(this);if(e[e.length-1]instanceof Dt?o.illuminant=i.pop():o.illuminant=Dt.D50,0===i.length)this.l=0,this.c=0,this.h=0;else if(1===i.length){var u=Y(i,1)[0];this.l=u||0,this.c=0,this.h=0}else{var s=Y(i,3),a=s[0],c=s[1],h=s[2];this.l=a||0,this.c=c||0,this.h=h||0}}return Z(t,[{key:"toRGB",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt.sRGB;return this.toLab().toRGB(t)}},{key:"toLab",value:function(){var t=this.l,n=this.c,e=this.h,r=this.illuminant;return new Vt(t,n*Math.cos(e),n*Math.sin(e),r)}},{key:"equals",value:function(t){return t.l===this.l&&t.c===this.c&&t.h===this.h}},{key:"toArray",value:function(){return[this.l,this.c,this.h]}},{key:"toString",value:function(){var t=this;return this.constructor.name+" { "+["l","c","h"].map(function(n){return n+": "+t[n]}).join(", ")+" }"}},{key:"inspect",value:function(){return this.toString()}},{key:"lightness",get:function(){return this.l},set:function(t){this.l=t}},{key:"chroma",get:function(){return this.c},set:function(t){this.c=t}},{key:"hue",get:function(){return this.h},set:function(t){this.h=t}},{key:"illuminant",get:function(){return Jt(this).illuminant}}],[{key:"fromRGB",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt.D50;return this.fromLab(Vt.fromRGB(t,n))}},{key:"fromLab",value:function(t){var n=t.l,e=t.a,r=t.b,i=t.illuminant;return new this(n,Math.sqrt(e*e+r*r),Math.atan2(r,e),i)}}]),t}(),Wt=c("Luv"),Qt=function(){function t(){D(this,t);for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];var i=[].concat(e),o=Wt(this);if(e[e.length-1]instanceof Dt?o.illuminant=i.pop():o.illuminant=Dt.D50,0===i.length)this.l=0,this.u=0,this.v=0;else if(1===i.length){var u=Y(i,1)[0];this.l=u||0,this.u=0,this.v=0}else{var s=Y(i,3),a=s[0],c=s[1],h=s[2];this.l=a||0,this.u=c||0,this.v=h||0}}return Z(t,[{key:"toRGB",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt.sRGB;return this.toXYZ().toRGB(t)}},{key:"toXYZ",value:function(){var t=this.l,n=new Ct(this.illuminant),e=M((t+16)/116)*n.y,r=R(n),i=this.u/(13*t)+r.u,o=9*e/(this.v/(13*t)+r.v),u=i/4*o;return new Ht(u,e,(o-u-15*e)/3)}},{key:"equals",value:function(t){return t.l===this.l&&t.u===this.u&&t.v===this.v}},{key:"toArray",value:function(){return[this.l,this.u,this.v]}},{key:"toString",value:function(){var t=this;return this.constructor.name+" { "+["l","u","v"].map(function(n){return n+": "+t[n]}).join(", ")+" }"}},{key:"inspect",value:function(){return this.toString()}},{key:"lightness",get:function(){return this.l},set:function(t){this.l=t}},{key:"illuminant",get:function(){return Wt(this).illuminant}}],[{key:"fromRGB",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt.D50;return this.fromXYZ(Ht.fromRGB(t),n)}},{key:"fromXYZ",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt.D50,e=116*B(t.y)-16,r=R(new Ct(n)),i=R(t),o=i.u,u=(void 0===o&&ucsU,i.v);void 0===u&&ucsV;return new this(e,13*e*(ucsU-r.u),13*e*(ucsV-r.v))}}]),t}(),$t=c("LCHuv"),tn=function(){function t(){D(this,t);for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];var i=[].concat(e),o=$t(this);if(e[e.length-1]instanceof Dt?o.illuminant=i.pop():o.illuminant=Dt.D50,0===i.length)this.l=0,this.c=0,this.h=0;else if(1===i.length){var u=Y(i,1)[0];this.l=u||0,this.c=0,this.h=0}else{var s=Y(i,3),a=s[0],c=s[1],h=s[2];this.l=a||0,this.c=c||0,this.h=h||0}}return Z(t,[{key:"toRGB",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt.sRGB;return this.toLuv().toRGB(t)}},{key:"toLuv",value:function(){var t=this.l,n=this.c,e=this.h,r=this.illuminant;return new Qt(t,n*Math.cos(e),n*Math.sin(e),r)}},{key:"equals",value:function(t){return t.l===this.l&&t.c===this.c&&t.h===this.h}},{key:"toArray",value:function(){return[this.l,this.c,this.h]}},{key:"toString",value:function(){var t=this;return this.constructor.name+" { "+["l","c","h"].map(function(n){return n+": "+t[n]}).join(", ")+" }"}},{key:"inspect",value:function(){return this.toString()}},{key:"lightness",get:function(){return this.l},set:function(t){this.l=t}},{key:"chroma",get:function(){return this.c},set:function(t){this.c=t}},{key:"hue",get:function(){return this.h},set:function(t){this.h=t}},{key:"illuminant",get:function(){return $t(this).illuminant}}],[{key:"fromRGB",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt.D50;return this.fromLuv(Qt.fromRGB(t,n))}},{key:"fromLuv",value:function(t){var n=t.l,e=t.u,r=t.v,i=t.illuminant;return new this(n,Math.sqrt(e*e+r*r),Math.atan2(r,e),i)}}]),t}(),nn=function(){function t(){D(this,t);for(var n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];if(0===e.length)this.r=0,this.y=0,this.b=0;else if(1===e.length){var i=e[0];this.r=i||0,this.y=i||0,this.b=i||0}else{var o=e[0],u=e[1],s=e[2];this.r=o||0,this.y=u||0,this.b=s||0}}return Z(t,[{key:"toRGB",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt.sRGB;return new(Function.prototype.bind.apply(Yt,[null].concat(_(j(this.toArray())),[t])))}},{key:"equals",value:function(t){return t.r===this.r&&t.y===this.y&&t.b===this.b}},{key:"toArray",value:function(){return[this.r,this.y,this.b]}},{key:"toString",value:function(){var t=this;return this.constructor.name+" { "+["r","y","b"].map(function(n){return n+": "+t[n]}).join(", ")+" }"}},{key:"inspect",value:function(){return this.toString()}},{key:"red",get:function(){return this.r},set:function(t){this.r=t}},{key:"yellow",get:function(){return this.y},set:function(t){this.y=t}},{key:"blue",get:function(){return this.b},set:function(t){this.b=t}}],[{key:"fromRGB",value:function(t){return new(Function.prototype.bind.apply(this,[null].concat(_(S(t.toArray())))))}}]),t}();t.ChromaticAdaptation=Ft,t.Chromaticity=zt,t.HSL=_t,t.HSV=It,t.Illuminant=Dt,t.Lab=Vt,t.LCHab=Kt,t.LCHuv=tn,t.Luv=Qt,t.Primaries=Lt,t.RGB=Yt,t.RYB=nn,t.Tristimulus=Ct,t.XYZ=Ht,Object.defineProperty(t,"__esModule",{value:!0})});